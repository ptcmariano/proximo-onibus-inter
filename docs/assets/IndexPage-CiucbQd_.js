import{Q as z}from"./QSpinnerDots-DtDDx2FV.js";import{u as A,a as L,Q as k,b as N,c as j,d as P,_ as T}from"./_plugin-vue_export-helper-D3ONSF8p.js";import{Q as V}from"./QBadge-ByKTrZ7A.js";import{u as I,h as O,c as E,d as $,Q as C}from"./QBtn-CtpRX50n.js";import{c as Q,h as B,g as F,a as g,q as M,C as R,f as G,k as H,t as n,v as _,x as m,y as r,D as s,E as f,F as J,G as U,A as K,H as p,r as q}from"./index-DzFr0vMh.js";const W={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},w={xs:2,sm:4,md:8,lg:16,xl:24},X=Q({name:"QSeparator",props:{...A,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const i=F(),l=L(e,i.proxy.$q),c=g(()=>e.vertical===!0?"vertical":"horizontal"),v=g(()=>` q-separator--${c.value}`),h=g(()=>e.inset!==!1?`${v.value}-${W[e.inset]}`:""),y=g(()=>`q-separator${v.value}${h.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(l.value===!0?" q-separator--dark":"")),x=g(()=>{const d={};if(e.size!==void 0&&(d[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const b=e.spaced===!0?`${w.md}px`:e.spaced in w?`${w[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];d[`margin${u[0]}`]=d[`margin${u[1]}`]=b}return d});return()=>B("hr",{class:y.value,style:x.value,"aria-orientation":c.value})}}),Y=Q({name:"QCardActions",props:{...I,vertical:Boolean},setup(e,{slots:i}){const l=E(e),c=g(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>B("div",{class:c.value},O(i.default))}}),Z={key:0,class:"column q-gutter-y-lg"},ee={class:"row items-center justify-between q-mb-sm"},te={class:"text-h6 text-weight-bold q-mb-xs"},se={class:"text-body2 text-grey-7 q-mb-md"},ae={class:"bg-primary text-white q-pa-md rounded-borders shadow-2 column flex-center"},oe={key:0,class:"row items-baseline"},re={class:"text-h2 text-weight-bolder"},ne={class:"text-subtitle1 q-ml-sm q-mb-sm text-weight-medium opacity-80"},ie={key:1,class:"text-h5 text-weight-bold q-my-sm"},le={key:1,class:"column flex-center text-center q-mt-xl"},ce=M({__name:"IndexPage",setup(e){const i=R(),{getLineById:l,getNextBusTime:c}=P(),v=q(!0),h=q([]),y=q(new Date);let x=null;G(()=>{const a=localStorage.getItem("proximo_onibus_lines");if(a)try{const t=JSON.parse(a);Array.isArray(t)&&t.length===2?h.value=t:i.push("/setup")}catch{i.push("/setup")}else i.push("/setup");v.value=!1,x=setInterval(()=>{y.value=new Date},1e4)}),H(()=>{x&&clearInterval(x)});const d=a=>l(a)?.name||"Linha Desconhecida",b=a=>l(a)?.direction||"",u=a=>c(a,y.value);return(a,t)=>v.value?(n(),_(k,{key:0,class:"q-pa-md bg-grey-1 column justify-center items-center"},{default:m(()=>[r(z,{color:"primary",size:"3em"})]),_:1})):(n(),_(k,{key:1,class:"q-pa-md bg-grey-1"},{default:m(()=>[t[4]||(t[4]=s("div",{class:"row items-center justify-between q-mb-xl"},[s("div",null,[s("h1",{class:"text-h4 text-weight-bolder q-ma-none text-dark"},"Olá,"),s("div",{class:"text-subtitle1 text-grey-8"},"Para onde vamos hoje?")])],-1)),h.value.length===2?(n(),f("div",Z,[(n(!0),f(J,null,U(h.value,(o,S)=>(n(),_(N,{key:o,class:"glass-card full-width no-shadow",bordered:""},{default:m(()=>[r(j,{onClick:D=>a.$router.push(`/line/${o}`),class:"cursor-pointer"},{default:m(()=>[s("div",ee,[r(V,{color:"accent",class:"text-weight-bold",rounded:""},{default:m(()=>[K(p(S===0?"IDA":"VOLTA"),1)]),_:2},1024),r($,{name:"directions_bus",size:"sm",color:"grey-6"})]),s("div",te,p(d(o)),1),s("div",se,"Sentido: "+p(b(o)),1),s("div",ae,[t[1]||(t[1]=s("div",{class:"text-uppercase text-caption text-weight-medium q-mb-xs",style:{"letter-spacing":"1px"}},"Próximo Ônibus",-1)),u(o)?(n(),f("div",oe,[s("div",re,p(u(o)?.time),1),s("div",ne,p(u(o)?.minutesLeft)+" min",1)])):(n(),f("div",ie," Sem mais horários hoje "))])]),_:2},1032,["onClick"]),r(X),r(Y,{align:"right"},{default:m(()=>[r(C,{flat:"",color:"primary",label:"Ver todos os horários",onClick:D=>a.$router.push(`/line/${o}`)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])):(n(),f("div",le,[r($,{name:"route",size:"4em",color:"grey-4",class:"q-mb-md"}),t[2]||(t[2]=s("div",{class:"text-h6 text-grey-8 q-mb-xs"},"Nenhum trajeto configurado",-1)),t[3]||(t[3]=s("div",{class:"text-body2 text-grey-6 q-mb-lg"},"Configure suas linhas para ver os horários mais rapidamente.",-1)),r(C,{color:"primary",icon:"settings",label:"Configurar Trajeto",onClick:t[0]||(t[0]=o=>a.$router.push("/setup")),rounded:"",unelevated:"",padding:"xs lg"})]))]),_:1}))}}),he=T(ce,[["__scopeId","data-v-fef612fc"]]);export{he as default};
